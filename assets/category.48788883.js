import{Q as $,_ as Q}from"./header.49e47568.js";import{a0 as f,c as B,a1 as a,a5 as d,f as o,a3 as c,b2 as w,at as L,a8 as M,$ as N,_ as A,a4 as e,a2 as m,a6 as _,F as y,w as E}from"./index.eae3a570.js";import{u as x}from"./axios.dac49c53.js";import{Q as P}from"./QSkeleton.15aaddf9.js";import{u as F,N as I,f as R,S as v,a as S,_ as V}from"./useCategories.dcc0dcc5.js";import{a as q,Q as z}from"./QItem.e1282895.js";import{u as D}from"./cart.cac68b30.js";import{u as T}from"./useProducts.705a8918.js";import"./wait.354c5c21.js";import"./QAvatar.b3f4fc0b.js";import"./vue-i18n.runtime.esm-bundler.53e1aa22.js";const W=f({__name:"card",props:{category:{},activeCategoryNumber:{}},emits:["toCategory"],setup(p,{emit:i}){const t=p,s=B(()=>t.category.id===t.activeCategoryNumber);return(r,n)=>(a(),d("div",{class:w(["q-card rounded-full text-primary",{"bg-primary":s.value,"text-white":s.value}])},[o(q,null,{default:c(()=>[o(z,null,{default:c(()=>[L("h3",{class:w(["text-center text-lg",{underline:r.category.id===r.activeCategoryNumber}]),onClick:n[0]||(n[0]=()=>i("toCategory",r.category.id))},M(r.category.title),3)]),_:1})]),_:1})],2))}}),j=f({__name:"categories",setup(p){const i=N(),t=A(),s=x(),r=[I,R],{categories:n,fetchCategories:C,fetchCategoriesLoadingSymbol:k}=F(),g=u=>{t.push({name:"category",params:{id:u}})};return C(),(u,l)=>e(s).is(e(k))?(a(),m(e(S),{key:0,class:"h-16","slides-per-view":2.2,"space-between":10,modules:r,pagination:{clickable:!0},freeMode:!0},{default:c(()=>[(a(),d(y,null,_(10,(h,b)=>o(e(v),{key:b},{default:c(()=>[o(P,{class:"h-16 rounded-4xl"})]),_:1})),64))]),_:1})):(a(),m(e(S),{key:1,class:"skeleton h-16","slides-per-view":2.2,"space-between":10,modules:r,pagination:{clickable:!0},freeMode:!0},{default:c(()=>[(a(!0),d(y,null,_(e(n),(h,b)=>(a(),m(e(v),{key:b},{default:c(()=>[o(W,{class:"test-1",category:h,onToCategory:g,"active-category-number":Number(e(i).params.id)},null,8,["category","active-category-number"])]),_:2},1024))),128))]),_:1}))}}),G=f({__name:"list",setup(p){const i=x(),t=N(),s=D(),{products:r,fetchProducts:n,fetchProductsLoadingSymbol:C}=T();return n({category_id:Number(t.params.id)}),E(()=>t.params.id,()=>t.name==="category"?n({category_id:Number(t.params.id)}):null),(k,g)=>e(i).is(e(C))?(a(),d(y,{key:0},_(5,(u,l)=>o(P,{class:"my-4 h-72",key:l})),64)):(a(!0),d(y,{key:1},_(e(r),u=>(a(),m(V,{class:"mx-auto my-2 block",key:u.id,product:u,"set-count":e(s).getProductCount(u.id),onCount:l=>e(s).setProductCount(u.id,l),onAddProduct:g[0]||(g[0]=l=>e(s).addProduct(l))},null,8,["product","set-count","onCount"]))),128))}}),re=f({__name:"category",setup(p){return(i,t)=>(a(),m($,null,{default:c(()=>[o(Q,{class:"mb-2",header:"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u0438"}),o(j),o(G)]),_:1}))}});export{re as default};
