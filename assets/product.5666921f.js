import{a1 as l,a2 as u,a5 as i,au as s,a9 as a,a0 as w,a7 as t,a3 as p,a4 as g,f as c,F as y,aC as b,aa as x}from"./index.46815d5f.js";import{_ as k,Q as h}from"./header.411dd918.js";import{u as v}from"./axios.060bcb32.js";import{Q as B}from"./QSkeleton.720630cf.js";import{u as _}from"./cart.2207fa15.js";import{u as $}from"./useProducts.3ce1f0c0.js";import"./wait.3fb3bf62.js";import"./QAvatar.7c05a6d7.js";import"./status-codes.44acab52.js";const E={class:"mb-36 w-full h-auto rounded-4xl overflow-hidden grid text-primary grid-cols-[1fr_1fr_1fr] grid-rows-[1fr_auto]"},S=["src"],z={class:"px-5 py-1 text-xl row-start-2 row-end-3 col-start-1 col-end-4 z-10"},N={class:"px-5 text-sm leading-4 row-start-3 row-end-4 col-start-1 col-end-4 opacity-50 z-10"},Q={class:"px-5 pb-2 text-xl row-start-4 row-end-5 col-start-1 col-end-4 z-10"},D={class:"px-5 pb-2 text-xl row-start-5 row-end-6 col-start-1 col-end-4 z-10"},A=l({__name:"card-single",props:{product:null,setCount:null},emits:["count","addProduct","decProduct"],setup(o,{emit:e}){return _(),(d,r)=>(u(),i("div",E,[s("img",{class:"mx-auto w-full row-start-1 row-end-2 col-start-1 col-end-4",src:o.product.image},null,8,S),s("div",z,a(o.product.name),1),s("div",N,a(o.product.description),1),s("div",Q,"\u0426\u0435\u043D\u0430 "+a(o.product.price),1),s("div",D,"\u041A\u043E\u043B\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E "+a(o.product.weight),1)]))}}),I=l({__name:"single",setup(o){const e=_(),d=w(),{products:r,fetchProducts:f,fetchProductsLoadingSymbol:P}=$(),C=v();return f({id:[Number(d.params.id)]}),(R,n)=>t(C).is(t(P))?(u(),p(B,{key:0,class:"h-400px"})):(u(),p(h,{key:1},{default:g(()=>[c(k,{header:t(r)[0].name},null,8,["header"]),c(A,{product:t(r)[0],"set-count":t(e).getProductCount(t(r)[0].id),onAddProduct:n[0]||(n[0]=m=>t(e).addProduct(m)),onDecProduct:n[1]||(n[1]=m=>t(e).decProduct(m))},null,8,["product","set-count"])]),_:1}))}}),V=s("span",{class:"mr-3"},"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u043A\u043E\u0440\u0437\u0438\u043D\u0443",-1),F={key:1,class:"span"},L=l({__name:"add-to-cart",props:{id:null},setup(o){const e=_();return(d,r)=>(u(),i("button",{class:"h-12 rounded-full bg-secondary text-white text-lg z-20",onClick:r[0]||(r[0]=f=>t(e).addProduct(o.id))},[t(e).isProductInCart(o.id)?x("",!0):(u(),i(y,{key:0},[V,c(b,{name:"add"})],64)),t(e).isProductInCart(o.id)?(u(),i("div",F,"\u0412\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u043B\u0438 "+a(t(e).getProductCount(o.id)),1)):x("",!0)]))}}),T=l({__name:"product",setup(o){const e=w();return(d,r)=>(u(),p(h,null,{default:g(()=>[c(I),c(L,{class:"fixed bottom-20 w-4/5 -translate-x-1/2 left-1/2",id:Number(t(e).params.id)},null,8,["id"])]),_:1}))}});export{T as default};
