import{Q as $,_ as Q}from"./header.411dd918.js";import{a1 as _,c as B,a2 as a,a5 as p,f as r,a4 as n,au as L,b3 as w,a9 as M,a7 as e,a0 as S,$ as A,a3 as d,F as y,a6 as f,w as E}from"./index.46815d5f.js";import{u as N}from"./axios.060bcb32.js";import{Q as P}from"./QSkeleton.720630cf.js";import{u as F,S as x,a as v,N as I,f as R,_ as V}from"./useCategories.30e9b6d4.js";import{a as q,Q as z}from"./QItem.cecaac65.js";import{u as D}from"./cart.2207fa15.js";import{u as T}from"./useProducts.3ce1f0c0.js";import"./wait.3fb3bf62.js";import"./QAvatar.7c05a6d7.js";import"./status-codes.44acab52.js";import"./vue-i18n.runtime.esm-bundler.b3bf75de.js";const W=_({__name:"card",props:{category:null,activeCategoryNumber:null},emits:["toCategory"],setup(o,{emit:i}){const t=o,s=B(()=>t.category.id===t.activeCategoryNumber);return(m,c)=>(a(),p("div",{class:w(["q-card rounded-full text-primary",{"bg-primary":e(s),"text-white":e(s)}])},[r(z,null,{default:n(()=>[r(q,null,{default:n(()=>[L("h3",{class:w(["text-center text-lg",{underline:o.category.id===o.activeCategoryNumber}]),onClick:c[0]||(c[0]=()=>i("toCategory",o.category.id))},M(o.category.title),3)]),_:1})]),_:1})],2))}}),j=_({__name:"categories",setup(o){const i=S(),t=A(),s=N(),m=[I,R],{categories:c,fetchCategories:C,fetchCategoriesLoadingSymbol:k}=F(),g=u=>{t.push({name:"category",params:{id:u}})};return C(),(u,l)=>e(s).is(e(k))?(a(),d(e(v),{key:0,class:"h-16","slides-per-view":2.2,"space-between":10,modules:m,pagination:{clickable:!0},freeMode:!0},{default:n(()=>[(a(),p(y,null,f(10,(h,b)=>r(e(x),{key:b},{default:n(()=>[r(P,{class:"h-16 rounded-4xl"})]),_:1})),64))]),_:1},8,["slides-per-view"])):(a(),d(e(v),{key:1,class:"skeleton h-16","slides-per-view":2.2,"space-between":10,modules:m,pagination:{clickable:!0},freeMode:!0},{default:n(()=>[(a(!0),p(y,null,f(e(c),(h,b)=>(a(),d(e(x),{key:b},{default:n(()=>[r(W,{class:"test-1",category:h,onToCategory:g,"active-category-number":Number(e(i).params.id)},null,8,["category","active-category-number"])]),_:2},1024))),128))]),_:1},8,["slides-per-view"]))}}),G=_({__name:"list",setup(o){const i=N(),t=S(),s=D(),{products:m,fetchProducts:c,fetchProductsLoadingSymbol:C}=T();return c({category_id:Number(t.params.id)}),E(()=>t.params.id,()=>t.name==="category"?c({category_id:Number(t.params.id)}):null),(k,g)=>e(i).is(e(C))?(a(),p(y,{key:0},f(5,(u,l)=>r(P,{class:"my-4 h-72",key:l})),64)):(a(!0),p(y,{key:1},f(e(m),u=>(a(),d(V,{class:"mx-auto my-2 block",key:u.id,product:u,"set-count":e(s).getProductCount(u.id),onCount:l=>e(s).setProductCount(u.id,l),onAddProduct:g[0]||(g[0]=l=>e(s).addProduct(l))},null,8,["product","set-count","onCount"]))),128))}}),oe=_({__name:"category",setup(o){return(i,t)=>(a(),d($,null,{default:n(()=>[r(Q,{class:"mb-2",header:"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u0438"}),r(j),r(G)]),_:1}))}});export{oe as default};
