import{a0 as i,a1 as s,a5 as c,at as u,a8 as a,$ as g,a4 as o,a2 as m,a3 as h,f as d,F as y,aB as b,a9 as w}from"./index.eae3a570.js";import{Q as x,_ as k}from"./header.49e47568.js";import{u as B}from"./axios.dac49c53.js";import{Q as $}from"./QSkeleton.15aaddf9.js";import{u as _}from"./cart.cac68b30.js";import{u as v}from"./useProducts.705a8918.js";import"./wait.354c5c21.js";import"./QAvatar.b3f4fc0b.js";const E={class:"mb-36 w-full h-auto rounded-4xl overflow-hidden grid text-primary grid-cols-[1fr_1fr_1fr] grid-rows-[1fr_auto]"},S=["src"],z={class:"px-5 py-1 text-xl row-start-2 row-end-3 col-start-1 col-end-4 z-10"},N={class:"px-5 text-sm leading-4 row-start-3 row-end-4 col-start-1 col-end-4 opacity-50 z-10"},Q={class:"px-5 pb-2 text-xl row-start-4 row-end-5 col-start-1 col-end-4 z-10"},D={class:"px-5 pb-2 text-xl row-start-5 row-end-6 col-start-1 col-end-4 z-10"},A=i({__name:"card-single",props:{product:{},setCount:{}},emits:["count","addProduct","decProduct"],setup(l,{emit:r}){return _(),(t,e)=>(s(),c("div",E,[u("img",{class:"mx-auto w-full row-start-1 row-end-2 col-start-1 col-end-4",src:t.product.image},null,8,S),u("div",z,a(t.product.name),1),u("div",N,a(t.product.description),1),u("div",Q,"\u0426\u0435\u043D\u0430 "+a(t.product.price),1),u("div",D,"\u041A\u043E\u043B\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E "+a(t.product.weight),1)]))}}),I=i({__name:"single",setup(l){const r=_(),t=g(),{products:e,fetchProducts:f,fetchProductsLoadingSymbol:P}=v(),C=B();return f({id:[Number(t.params.id)]}),(R,n)=>o(C).is(o(P))?(s(),m($,{key:0,class:"h-400px"})):(s(),m(x,{key:1},{default:h(()=>[d(k,{header:o(e)[0].name},null,8,["header"]),d(A,{product:o(e)[0],"set-count":o(r).getProductCount(o(e)[0].id),onAddProduct:n[0]||(n[0]=p=>o(r).addProduct(p)),onDecProduct:n[1]||(n[1]=p=>o(r).decProduct(p))},null,8,["product","set-count"])]),_:1}))}}),V=u("span",{class:"mr-3"},"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u043A\u043E\u0440\u0437\u0438\u043D\u0443",-1),F={key:1,class:"span"},L=i({__name:"add-to-cart",props:{id:{}},setup(l){const r=_();return(t,e)=>(s(),c("button",{class:"h-12 rounded-full bg-secondary text-white text-lg z-20",onClick:e[0]||(e[0]=f=>o(r).addProduct(t.id))},[o(r).isProductInCart(t.id)?w("",!0):(s(),c(y,{key:0},[V,d(b,{name:"add"})],64)),o(r).isProductInCart(t.id)?(s(),c("div",F,"\u0412\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u043B\u0438 "+a(o(r).getProductCount(t.id)),1)):w("",!0)]))}}),O=i({__name:"product",setup(l){const r=g();return(t,e)=>(s(),m(x,null,{default:h(()=>[d(I),d(L,{class:"fixed bottom-20 w-4/5 -translate-x-1/2 left-1/2",id:Number(o(r).params.id)},null,8,["id"])]),_:1}))}});export{O as default};
