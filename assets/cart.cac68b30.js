import{aK as c,aL as s}from"./index.eae3a570.js";const d=c("cart",{state:()=>({productsCart:s("productsCart",[]),formCart:s("formCart",{phone:"",locality:"",street:"",building:"",floor:"",apartment:"",intercomCode:"",comment:""})}),getters:{totalProducts:t=>t.productsCart.reduce((r,o)=>r+o.count,0),getProductCount:t=>r=>{const o=t.productsCart.find(u=>u.id===r);return o?o.count:0}},actions:{addProduct(t){this.isProductInCart(t)?this.setProductCount(t,this.getProductCount(t)+1):this.productsCart.push({id:t,count:1})},decProduct(t){this.setProductCount(t,this.getProductCount(t)-1)},setProductCount(t,r){const o=this.productsCart.find(u=>u.id===t);o&&(r!==0?o.count=r:this.removeProduct(t))},isProductInCart(t){return this.productsCart.some(r=>r.id===t)},removeProduct(t){this.productsCart=this.productsCart.filter(r=>r.id!==t)},clearCart(){this.productsCart=[]}}});export{d as u};
